# Flask RESTful API SQLAlchemy

This project is a continuation of my previous [REST API](https://github.com/NeryCaballero/REST-API-flask-RESTful-SQLite3) created with Python `flask` , `flask_restful` , `flask_jwt` and `sqlite3`.

This time I have used `SQLAlchemy`.

This API has 4 resources: `Item`, `Items`, `Store` and `Stores`  . 

`authentication` has been applied with `flask_jwt`.

## 

The API information will be stored in a file `data.db` which will act as the database.
This file, *and the tables*, will be generated by SQLAlchemy *before-first-request*.


## The available endpoints are:

- POST `localhost:5000/register`: Registers a new user. 
  Information required in JSON: 

  ```json
  { 
    "username": str, 
    "password": str 
  }
  ```

## 
  
- POST `localhost:5000/auth` : Authenticates existing user. Provides an `access token`. 
  This token must be included on the headers of all the following requests. `Authorization = JWT <token>`
  
  Information required in JSON:
  
  ```json
  { 
    "username": str, 
    "password": str 
  }
  ```
  
  For more details on authentication go [here](https://github.com/NeryCaballero/REST-API-flask-RESTful/blob/main/flask_jwt.md), *all the way to the end*.

## 

- POST `localhost:5000/item/<item-name>` : Creates new item by passing the name on the URL.
  
  Information required in JSON: 

  ```json
  { 
    "price": float,
    "store_id: : int
  }
  ```  

## 

- GET `localhost:5000/item/<item-name>` : Reads one item by passing the name on the URL.

## 

- GET `localhost:5000/items`  : Reads all items.

## 

- PUT `localhost:5000/item/<item-name>` : Updates one item by passing the name on the URL. If the item does not exists, it will be created. 
  
  Information required in JSON:
  
  ```json
  { 
    "price": float,
    "store_id: : int
  }
  ```

## 

- DEL `localhost:5000/item/<item-name>` : Deletes one item by passing the name on the URL. 

##  

- POST `localhost:5000/store/<store-name>` : Creates new store by passing the name on the URL.

## 

- GET `localhost:5000/store/<store-name>` : Reads one store by passing the name on the URL.

## 

- GET `localhost:5000/stores`  : Reads all stores.

## 

- DEL `localhost:5000/store/<store-name>` : Deletes one store by passing the name on the URL. 
